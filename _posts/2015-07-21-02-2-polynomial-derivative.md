---
layout: post
title: "PAT 02-2 一元多项式求导 (25)"
date: 2015-07-21
comments: true
categories: 学习
tag: 
  - Python
  - Data Structure
  - PAT
---
[02-线性结构2. 一元多项式求导 (25)][2]

设计函数求一元多项式的导数。（注：$$x^n$$（n为整数）的一阶导数为$$n*x^{n-1}$$。）

**输入格式：**以指数递降方式输入多项式非零项系数和指数（绝对值均为不超过1000的整数）。数字间以空格分隔。

**输出格式：**以与输入相同的格式输出导数多项式非零项的系数和指数。数字间以空格分隔，但结尾不能有多余空格。注意“零多项式”的指数和系数都是0，但是表示为“0 0”。

**输入样例：**

3 4 -5 2 6 1 -2 0
**输出样例：**

12 3 -10 1 6 0

---

[再劫][1]的答案很有启发性。在线处理，速度快，消耗空间少。不过我还是按自己的想法写的：先输入一个数组，在把求导后的放到另个数组，然后输出。我的方法耗时比他的多很多。他的那个平均 8 ms就完成了，而我的要 24 ms。然后我自己用 Python 3 重写了一个他的方法，却报格式错误。有点郁闷，想了半天也没看出来 bug 在哪。

我一开始很二，以为得到求导后的数组就可以直接 `print(poly2)` 了，实际上 Python 里直接 'print()' 列表是输出成 '[0, 1, 2, 3, 4]' 这样的，而题目要求的是 '0 1 2 3 4' 这样的。


~~~ python
__author__ = 'LiChang'
def dpoly(poly):
    '''
    多项式求导方法
    :param poly:这个多项式实际上是数组表示的，偶数项为系数，奇数项为幂
    :return:返回求导之后的数组
    '''
    poly2 = []# 创建一个空数组
    x = 0
    while x < len(poly):
        c = poly[x]*poly[x+1]# 系数
        if (c != 0):# 系数不为零才有意义，才加入poly2，系数为零直接丢弃
            poly2.append(c)# .append() 方法把数添加到数组末尾
            poly2.append(poly[x+1]-1)
        x += 2
    return poly2

poly = [int(i) for i in input().split()]
poly2= dpoly(poly)
if len(poly2)>1:# 数组不为空
    for i in range((len(poly2)-1)):# 这里主要是为了满足输出格式的要求：
        print(poly2[i],end=' ')#单行，空格分隔
    print(poly2[-1])#末尾不能有空格
else:# 空数组，输出'0 0'
    print('0 0')
~~~

|测试点|结果|用时(ms)|内存(kB)|得分/满分|
|:---|:---|:---|:---|:---|
|0|答案正确|24|4608|12/12|
|1|答案正确|24|4564|4/4|
|2|答案正确|24|4508|3/3|
|3|答案正确|24|4588|3/3|
|4|答案正确|24|4484|3/3|


[1]: http://mengchengjiang.github.io/2015/01/21/PAT-homework/#PAT02-2_一元多项式求导
[2]:http://www.patest.cn/contests/mooc-ds/02-%E7%BA%BF%E6%80%A7%E7%BB%93%E6%9E%842